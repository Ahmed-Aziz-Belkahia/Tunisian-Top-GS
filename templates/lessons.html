{% extends "base.html" %}
{% load static %}

{% block head %}
  <link rel="stylesheet" href="{% static "styles/lessons.css" %}?v=2.1.2">
  {% block title %}
    <title>lessons - Tunisian Top Gs</title>
  {% endblock title %}
{% endblock head %}

{% block header %}
  {% include "components/navbar.html" %}
{% endblock header %}

{% block main %}
<!-- <div class='go-back'>
  <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0,0,256,256">
    <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.12,5.12)"><path d="M17.40625,3.03125c-0.52344,0.01953 -1.01562,0.24609 -1.375,0.625l-9.9375,9.9375l-1.4375,1.40625l1.4375,1.40625l9.9375,9.9375c0.48047,0.59766 1.25781,0.86719 2.00391,0.69531c0.75,-0.17187 1.33203,-0.75391 1.50391,-1.50391c0.17188,-0.74609 -0.09766,-1.52344 -0.69531,-2.00391l-6.53125,-6.53125h10.625c5.83984,0 9.81641,1.47656 12.3125,3.71875c2.49609,2.24219 3.6875,5.33203 3.6875,9.28125c0,8.19922 -2.6875,13.03125 -2.6875,13.03125c-0.53516,0.96484 -0.18359,2.18359 0.78125,2.71875c0.96484,0.53516 2.18359,0.18359 2.71875,-0.78125c0,0 3.1875,-5.85937 3.1875,-14.96875c0,-4.80859 -1.61328,-9.21094 -5.03125,-12.28125c-3.41797,-3.07031 -8.45312,-4.71875 -14.96875,-4.71875h-10.625l6.53125,-6.53125c0.59375,-0.57422 0.77344,-1.44922 0.45313,-2.21094c-0.31641,-0.75781 -1.06641,-1.24609 -1.89062,-1.22656z"></path></g></g>
    </svg>
  <a href="{% url 'home' %}">Go back</a>
</div> -->
  <div class="container_de">
    <div class="container__div">
      <div class="container__main">
        <div class="main_upper">
          <div class="upper_div">
            <div class="upper_text">Academy / Daily Lessons </div>
          </div>
          <div class="upper_center">
            <div class="center_div">
              <div class="center_text">Vocal 
                <span class="animated-text"> Lessons</span>
              </div>
              <div class="search-bar">
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="24" viewBox="0 0 26 24" fill="none">
                  <path d="M20.6583 2.69887C20.5058 2.64804 20.5058 2.43271 20.6583 2.38188L21.5535 2.08383C21.7503 2.01823 21.929 1.90769 22.0757 1.76099C22.2223 1.61429 22.3328 1.43546 22.3983 1.23866L22.6964 0.344049C22.7472 0.191559 22.9625 0.191559 23.0134 0.344049L23.3115 1.23912C23.3771 1.43588 23.4876 1.61466 23.6343 1.76128C23.7811 1.9079 23.9599 2.01833 24.1567 2.08383L25.0514 2.38188C25.0848 2.39284 25.1139 2.41406 25.1345 2.44252C25.1552 2.47099 25.1663 2.50523 25.1663 2.54038C25.1663 2.57552 25.1552 2.60977 25.1345 2.63823C25.1139 2.66669 25.0848 2.68792 25.0514 2.69887L24.1563 2.99692C23.9595 3.06248 23.7808 3.17294 23.6341 3.31956C23.4875 3.46618 23.377 3.64492 23.3115 3.84163L23.0134 4.7367C23.0024 4.7701 22.9812 4.79917 22.9527 4.81979C22.9243 4.8404 22.89 4.8515 22.8549 4.8515C22.8197 4.8515 22.7855 4.8404 22.757 4.81979C22.7285 4.79917 22.7073 4.7701 22.6964 4.7367L22.3983 3.84163C22.3327 3.64492 22.2222 3.46618 22.0756 3.31956C21.929 3.17294 21.7502 3.06248 21.5535 2.99692L20.6583 2.69887ZM18.3018 4.48394C18.2818 4.47731 18.2644 4.46455 18.252 4.44746C18.2397 4.43037 18.2331 4.40983 18.2331 4.38875C18.2331 4.36767 18.2397 4.34713 18.252 4.33004C18.2644 4.31295 18.2818 4.30018 18.3018 4.29356L18.8388 4.11473C19.0782 4.03479 19.2659 3.84718 19.3458 3.60781L19.5247 3.07086C19.5313 3.05085 19.544 3.03343 19.5611 3.02109C19.5782 3.00875 19.5988 3.00211 19.6199 3.00211C19.6409 3.00211 19.6615 3.00875 19.6786 3.02109C19.6957 3.03343 19.7084 3.05085 19.7151 3.07086L19.8939 3.60781C19.9332 3.72586 19.9995 3.83313 20.0875 3.92112C20.1755 4.00911 20.2828 4.0754 20.4009 4.11473L20.9379 4.29356C20.9579 4.30018 20.9753 4.31295 20.9877 4.33004C21 4.34712 21.0067 4.36767 21.0067 4.38875C21.0067 4.40983 21 4.43037 20.9877 4.44746C20.9753 4.46455 20.9579 4.47731 20.9379 4.48394L20.4009 4.66277C20.2828 4.7021 20.1755 4.76839 20.0875 4.85637C19.9995 4.94436 19.9332 5.05163 19.8939 5.16969L19.7151 5.70664C19.7084 5.72665 19.6957 5.74406 19.6786 5.7564C19.6615 5.76875 19.6409 5.77539 19.6199 5.77539C19.5988 5.77539 19.5782 5.76875 19.5611 5.7564C19.544 5.74406 19.5313 5.72665 19.5247 5.70664L19.3458 5.16969C19.3065 5.05163 19.2402 4.94436 19.1522 4.85637C19.0642 4.76839 18.9569 4.7021 18.8388 4.66277L18.3018 4.48394ZM17.817 1.21741C17.8039 1.21284 17.7925 1.2043 17.7844 1.19295C17.7763 1.1816 17.772 1.16802 17.772 1.1541C17.772 1.14017 17.7763 1.12659 17.7844 1.11525C17.7925 1.1039 17.8039 1.09535 17.817 1.09079L18.1747 0.971572C18.3346 0.918431 18.4599 0.793205 18.513 0.633321L18.6323 0.275661C18.6368 0.262503 18.6454 0.251093 18.6567 0.243018C18.6681 0.234944 18.6816 0.230605 18.6956 0.230605C18.7095 0.230605 18.7231 0.234944 18.7344 0.243018C18.7458 0.251093 18.7543 0.262503 18.7589 0.275661L18.8781 0.633321C18.9043 0.712113 18.9486 0.783709 19.0073 0.842425C19.066 0.901141 19.1376 0.945361 19.2164 0.971572L19.5741 1.09079C19.5873 1.09535 19.5987 1.1039 19.6068 1.11525C19.6148 1.12659 19.6192 1.14017 19.6192 1.1541C19.6192 1.16802 19.6148 1.1816 19.6068 1.19295C19.5987 1.2043 19.5873 1.21284 19.5741 1.21741L19.2164 1.33663C19.1376 1.36284 19.066 1.40706 19.0073 1.46577C18.9486 1.52449 18.9043 1.59609 18.8781 1.67488L18.7589 2.03207C18.7543 2.04523 18.7458 2.05664 18.7344 2.06472C18.7231 2.07279 18.7095 2.07713 18.6956 2.07713C18.6816 2.07713 18.6681 2.07279 18.6567 2.06472C18.6454 2.05664 18.6368 2.04523 18.6323 2.03207L18.513 1.67442C18.4599 1.51453 18.3346 1.3893 18.1747 1.33616L17.817 1.21741Z" fill="white"/>
                  <path d="M22.2439 21.6277L17.299 16.5151C18.4895 14.8765 19.1322 12.882 19.13 10.8326C19.13 5.59778 15.0108 1.33887 9.94759 1.33887C4.88442 1.33887 0.765137 5.59778 0.765137 10.8326C0.765137 16.0674 4.88442 20.3263 9.94759 20.3263C11.9298 20.3285 13.8589 19.6641 15.4438 18.4332L20.3887 23.5458C20.6391 23.7771 20.9655 23.9006 21.3011 23.8909C21.6367 23.8812 21.956 23.739 22.1934 23.4935C22.4308 23.2481 22.5684 22.918 22.5777 22.571C22.5871 22.224 22.4677 21.8865 22.2439 21.6277ZM3.38869 10.8326C3.38869 9.49139 3.77337 8.18031 4.49407 7.06514C5.21477 5.94997 6.23913 5.0808 7.43761 4.56755C8.63609 4.05429 9.95487 3.92 11.2272 4.18166C12.4995 4.44331 13.6681 5.08916 14.5854 6.03753C15.5027 6.98591 16.1274 8.19421 16.3805 9.50964C16.6335 10.8251 16.5036 12.1885 16.0072 13.4277C15.5108 14.6668 14.6701 15.7258 13.5915 16.471C12.5129 17.2161 11.2448 17.6138 9.94759 17.6138C8.2087 17.6117 6.54163 16.8965 5.31205 15.6253C4.08248 14.354 3.39078 12.6304 3.38869 10.8326Z" fill="white"/>
                </svg>
                <input type="text" class="search" placeholder="Search a Lesson ...">
                <button class="search-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="31" viewBox="0 0 32 31" fill="none">
                    <rect x="0.516113" y="0.0893555" width="30.7189" height="30.28" rx="4.38841" fill="#272B34"/>
                    <path d="M14.929 15.2302H11.2604M23.0348 14.8138C23.1129 14.8518 23.1786 14.911 23.2246 14.9846C23.2706 15.0582 23.295 15.1432 23.2949 15.23C23.2949 15.3168 23.2704 15.4019 23.2243 15.4754C23.1782 15.549 23.1123 15.6081 23.0342 15.6459L9.06048 22.3754C8.97692 22.4156 8.88322 22.4298 8.79151 22.4161C8.69981 22.4023 8.61434 22.3614 8.54619 22.2985C8.47804 22.2356 8.43036 22.1537 8.40933 22.0634C8.3883 21.9731 8.39489 21.8786 8.42825 21.7921L10.8881 15.3959C10.9291 15.2892 10.9291 15.1711 10.8881 15.0645L8.42887 8.66763C8.3958 8.58122 8.3894 8.48687 8.4105 8.39679C8.43161 8.3067 8.47924 8.22501 8.54724 8.16227C8.61524 8.09954 8.7005 8.05863 8.79199 8.04484C8.88348 8.03106 8.977 8.04502 9.06048 8.08493L23.0348 14.8138Z" stroke="white" stroke-width="1.47886" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          
        </div>

        <div class="main_lower">
          
          <div class="lower_div">
                        <!-- Add this below your search input -->
            <div class="no-results-message" style="display: none; text-align: center;">
              ðŸ˜¢ No search available.
            </div>
            {% for vocal in vocals %}
            <div class="vocal" data-title="{{vocal.title|lower}}">
              <div class="vocal_div">
                <div class="vocal_left">
                  <div class="container-play">
                    <div id="app">
                      <div class="pause">
                        <div class="line-l line_1-l"></div>
                        <div class="line-l line_2-l"></div>
                      </div>
                      <div class="play active">
                        <div class="line-l line_1-l"></div>
                        <div class="line-l line_2-l"></div>
                        <div class="line-l line_3-l"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="vocal_center">
                  <div class="slider_div">
                    <div class="number_text">
                      <div class="text_title">{{vocal.title}}</div>
                    </div>
                    <input type="range" class="audioSlider slider" value="0" step="1">
                    <div class="number_div">
                      <span class="currentTime">00:00</span>
                      <span class="duration">00:00</span>
                    </div>
                  </div>
                  
                  <!-- New audio controls for speed and loop -->
                  <div class="audio-controls">
                    <button class="speed-control" data-speed="0.5">0.5x</button>
                    <button class="speed-control active" data-speed="1">1x</button>
                    <button class="speed-control" data-speed="1.5">1.5x</button>
                    <button class="loop-control">Loop</button>
                  </div>
                  <!-- End of audio controls -->
            
                </div>
                <div class="vocal_right">
                  <button class="favoriteBtn favorite-button" {% if not user.is_authenticated %}disabled{% endif %}>
                    <i class="fa-regular fa-heart heartIcon card-icon" data-id={{vocal.id}}></i>
                  </button>
                  <div class="likes">{{vocal.likes_count}}</div>
                </div>
              </div>
              <audio class="audio" src="{{vocal.file.url}}"></audio>
            </div>
            
            {% endfor %}
            
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Add this pop-up container to your base or lesson HTML file -->
<div id="pointsPopup" class="points-popup hidden">
  <span class="popup-content"></span>
</div>

<!-- Floating Button -->
<div id="askQuestionButton" class="floating-button">
  <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12" y2="8"></line>
  </svg>
  <span>Ask a Question</span>
</div>

<!-- Modal for asking a question -->
<div id="askQuestionModal" class="modal hidden">
  <div class="modal-content">
      <span class="close-button">&times;</span>
      <h3>Ask Your Question</h3>
      <textarea id="userQuestion" placeholder="Type your question here..."></textarea>
      <button id="submitQuestionButton" class="submit-question-button">Submit Question</button>
      <p id="successMessage" class="success-message hidden">Your question has been submitted!</p>
  </div>
</div>



{% endblock main %}

{% block scripts %}
  <script src="{% static "js\lessons.js" %}?v=2.1.2"></script>
{% endblock scripts %}
